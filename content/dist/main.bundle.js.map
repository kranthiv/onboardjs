{"version":3,"sources":["webpack:///./src/app/services/common.service.ts","webpack:///./src/app/services/download.service.ts","webpack:///./src/app/services/messaging.service.ts","webpack:///./src/app/services/pouch-db.service.ts","webpack:///./src/app/services/query-selector.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.scss","webpack:///./src/app/components/journey-dialog/journey-dialog.component.scss","webpack:///./src/app/app.component.html","webpack:///./src/app/components/journey-dialog/journey-dialog.component.html","webpack:///./src/app/components/journey-dialog/journey-dialog.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/models/journey.ts","webpack:///./src/app/models/step.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class CommonService {\r\n\r\n  constructor() { }\r\n\r\n  parseURI(url: string): string {\r\n    let _url = new URL(url);\r\n    let unique = \"\";\r\n    if (_url === undefined) {\r\n      console.error(\"url is on wrong format\", url);\r\n      return \"ERROR\";\r\n    }\r\n    if (_url.hostname) {\r\n      unique = _url.hostname.replace(/\\./g, \"_\").replace(/\\//g, \"_\")\r\n    }\r\n    if (_url.pathname) {\r\n      let pathName = _url.pathname.replace(/\\./g, \"_\").replace(/\\//g, \"_\");\r\n      unique = unique + \"_\" + pathName;\r\n    }\r\n    return unique;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/common.service.ts","import { Injectable,Inject } from '@angular/core';\r\nimport {DOCUMENT} from '@angular/platform-browser';\r\n\r\n@Injectable()\r\nexport class DownloadService {\r\n\r\n  constructor(@Inject(DOCUMENT) private document:Document) { }\r\n  downloadJSON<T>(data: T, fileName: string): boolean {\r\n\r\n    let _data: string = \"\";\r\n    if (!data) {\r\n      console.error('Console.save: No data')\r\n      return;\r\n    }\r\n\r\n    if (!fileName) fileName = 'journey.json'\r\n\r\n    if (typeof data === \"object\") {\r\n      _data = JSON.stringify(data, undefined, 4)\r\n    }\r\n    let blob = new Blob([data], { type: 'text/json' }),\r\n      e = this.document.createEvent('MouseEvents'),\r\n      a = this.document.createElement('a');\r\n    a.download = fileName;\r\n    a.href = window.URL.createObjectURL(blob);\r\n    a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\r\n    e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n    a.dispatchEvent(e);\r\n    console.log(\"downlod initilized\", _data);\r\n    return true;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/download.service.ts","import { Injectable } from '@angular/core';\r\nimport {Observable,Observer,Subject}  from 'rxjs'\r\n\r\ndeclare let chrome: any;\r\n@Injectable()\r\nexport class MessagingService {\r\n\r\n  port: any;\r\n  constructor() { }\r\n\r\n  initilize(): Promise<any> {\r\n    return new Promise<boolean>((resolve, reject) => {\r\n      try {\r\n        this.port = chrome.runtime.connect({ name: \"onboard\" });\r\n        resolve(this.port);\r\n      } catch (ex) {\r\n        reject(ex);\r\n      }\r\n    });\r\n  }\r\n\r\n  receiveMessage(): Promise<any> {\r\n    return new Promise<any>((resolve, reject) => {\r\n      try {\r\n          chrome.runtime.onConnect.addListener((port)=>{\r\n            if(port.name === 'onboard'){\r\n              this.port = port;\r\n            }\r\n          });\r\n      } catch (ex) {\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  sendMessage<T>(name: string, data: T): Promise<boolean> {\r\n    return this.initilize().then(() => {\r\n      return new Promise<boolean>((resolve, reject) => {\r\n        try {\r\n          this.port.postMessage({ type: name, data: data });\r\n          resolve(true);\r\n        } catch (ex) {\r\n          reject(false);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/messaging.service.ts","import { Injectable } from '@angular/core';\r\nimport { Journey } from '../models/journey';\r\nimport * as pouchDB from 'pouchdb';\r\n\r\n@Injectable()\r\nexport class PouchDBService {\r\n\r\n  private isInstantiated: boolean;\r\n  private database: PouchDB.Database<any>;\r\n  private journey: Journey;\r\n  constructor() {\r\n\r\n    if (!this.isInstantiated) {\r\n\r\n      this.database = new pouchDB(\"onboard\");\r\n      console.log(this.database);\r\n      this.isInstantiated = true;\r\n    }\r\n  }\r\n\r\n  fetch() {\r\n    return this.database.allDocs({ include_docs: true });\r\n  }\r\n\r\n  get(id: string): Promise<any> {\r\n    return this.database.get(id);\r\n  }\r\n\r\n  put(id: string, document: any): Promise<PouchDB.Core.Response> {\r\n    return this.get(id).then(result => {\r\n      console.log(result);\r\n      this.journey = new Journey();\r\n      this.journey._rev = result._rev;\r\n      this.journey._id = result._id;\r\n      this.journey.steps.push(...result.steps, document);\r\n      return this.database.put(this.journey);\r\n    }, error => {\r\n      if (error.status === 404) {\r\n        this.journey = new Journey();\r\n        this.journey.steps.push(document);\r\n        return this.database.put(this.journey);\r\n      } else {\r\n        return new Promise((resolve, reject) => reject(error));\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/pouch-db.service.ts","import { Injectable, Inject } from '@angular/core';\r\nimport * as $ from 'jquery';\r\nimport { DOCUMENT } from \"@angular/platform-browser\";\r\n\r\n@Injectable()\r\nexport class QuerySelectorService {\r\n\r\n  constructor( @Inject(DOCUMENT) private document: Document) { }\r\n\r\n  generateSelector(el) {\r\n    let selector = \"\";\r\n    let tree = $(el).parentsUntil(document);\r\n\r\n    // generate full selector by traversing DOM from bottom-up\r\n    console.clear();\r\n    for (let i = -1; i < tree.length; i++) {\r\n      let e = i < 0 ? el : tree[i];\r\n\r\n      let eCSS = this.querifyElement(e);\r\n      console.log(\"selectors from selected element\", eCSS);\r\n      let query = eCSS.query + (selector.length ? ' > ' : '') + selector;\r\n\r\n      let matches = $(query);\r\n      console.log(\"QUERY: \" + query);\r\n\r\n      if (matches.length === 1 && matches[0] === el) {\r\n        console.log('   single match (result)');\r\n        return query;\r\n      }\r\n      else if (matches.length > 1 && i + 1 < tree.length) {\r\n        console.log('   many matches');\r\n\r\n        let parentQuery = this.generateSelector(tree[i + 1]);\r\n        let parentMatches = $(parentQuery).children(eCSS.tag);\r\n        let nthQuery = eCSS.tag + ':nth-of-type(' + (parentMatches.index(el) + 1) + ')' + (selector.length ? ' > ' : '') + selector;\r\n        let parentNthQuery = parentQuery + ' > ' + nthQuery;\r\n        let nthMatches = $(parentNthQuery);\r\n\r\n        console.log(\"PARENT_QUERY: \" + parentQuery);\r\n        console.log(\"__ELEMENT__\");\r\n        console.log(e)\r\n        console.log(\"__PARENT__\");\r\n        console.log($(parentQuery)[0])\r\n        console.log(\"__PARENT_MATCHES__\");\r\n        console.log(parentMatches)\r\n        console.log(\"PARENT_NTH_QUERY: \" + parentNthQuery);\r\n\r\n        if (nthMatches.length === 1 && nthMatches[0] === el) {\r\n          console.log('   single match with nth-of-type (result)');\r\n          return parentNthQuery;\r\n        }\r\n        else {\r\n          // console.log('   many matches with nth-of-type (continue)');\r\n          // selector = nthQuery;\r\n          return 'ERROR';\r\n        }\r\n      }\r\n      else {\r\n        if (matches.length === 1) console.log(\"Matched incorrect element. (matches.length = \" + matches.length + \")\")\r\n        else if (matches.length > 1) console.log(\"Multiple matches, but traversed entire tree (algorithm not being specific enough).\")\r\n        else console.log(\"Could not find match for tag/id/class selector. (matches.length = \" + matches.length + \")\")\r\n        return 'ERROR';\r\n      }\r\n    }\r\n\r\n    return selector;\r\n  }\r\n\r\n  // returns object with element information in query format\r\n  private querifyElement(e) {\r\n    if (!e) return null;\r\n    let tag = e.tagName.toLowerCase();\r\n    let ids = e.id ? '#' + e.id.trim().split(' ').join('#') : \"\";\r\n    let classes = e.className ? '.' + this.constructClassQuery(e.className) : \"\";\r\n    let query = tag + ids + classes;\r\n    return {\r\n      element: e,\r\n      tag: tag,\r\n      ids: ids,\r\n      classes: classes,\r\n      query: query\r\n    }\r\n  }\r\n  private constructClassQuery(classCollection: string) {\r\n    let classes: Array<string> = classCollection.trim().split(\" \").filter((item) => {\r\n      if (item.trim() !== '') return item.trim();\r\n    });\r\n    return classes.join(\".\");\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/query-selector.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".static-fab-right {\\n  position: fixed;\\n  right: 20px;\\n  bottom: 10px; }\\n\\n.static-fab-left {\\n  position: fixed;\\n  left: 20px;\\n  bottom: 10px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 164\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".form {\\n  width: 500px; }\\n\\n.full-width {\\n  width: 100%; }\\n\\n.radio-button-group {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row; }\\n\\n.radio-button {\\n  margin: 5px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey-dialog/journey-dialog.component.scss\n// module id = 165\n// module chunks = 1","module.exports = \"<button md-fab (click)=\\\"downloadJourney()\\\" class=\\\"static-fab-left\\\">Save</button>\\r\\n<button md-fab (click)=\\\"openDialog()\\\" class=\\\"static-fab-right\\\">Add</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 171\n// module chunks = 1","module.exports = \"<form class=\\\"form\\\" #journeyDialog=\\\"ngForm\\\">\\r\\n  <md-input-container class=\\\"full-width\\\">\\r\\n    <label for=\\\"journey-id\\\">Target\\r\\n    <input id=\\\"journey-id\\\" mdInput disabled [value]=\\\"data.id\\\">\\r\\n    </label>\\r\\n  </md-input-container>\\r\\n  <p>\\r\\n    <md-input-container class=\\\"full-width\\\">\\r\\n      <input mdInput placeholder=\\\"Title\\\" [(ngModel)]=\\\"data.title\\\" name=\\\"data.title\\\">\\r\\n    </md-input-container>\\r\\n  </p>\\r\\n\\r\\n  <p>\\r\\n    <md-input-container class=\\\"full-width\\\">\\r\\n      <textarea mdInput placeholder=\\\"Content\\\" required [(ngModel)]=\\\"data.content\\\" name=\\\"data.content\\\"></textarea>\\r\\n    </md-input-container>\\r\\n  </p>\\r\\n\\r\\n  <p>\\r\\n    <md-input-container class=\\\"full-width\\\">\\r\\n      <label for=\\\"journey-target\\\">Target\\r\\n      <input id=\\\"journey-target\\\" mdInput [value]=\\\"data.target\\\" name=\\\"data.target\\\" disabled>\\r\\n      </label>\\r\\n    </md-input-container>\\r\\n  </p>\\r\\n\\r\\n  <p>\\r\\n    <label for=\\\"\\\">Placement</label>\\r\\n    <md-radio-group class=\\\"radio-button-group\\\" [(ngModel)]=\\\"data.placement\\\" name=\\\"data.placement\\\">\\r\\n      <md-radio-button class=\\\"radio-button\\\" *ngFor=\\\"let placement of placements\\\" [value]=\\\"placement\\\">\\r\\n        {{placement}}\\r\\n      </md-radio-button>\\r\\n    </md-radio-group>\\r\\n  </p>\\r\\n</form>\\r\\n\\r\\n<p>\\r\\n  <button md-raised-button (click)=\\\"dialogRef.close('cancel')\\\">Cancel</button>\\r\\n  <button md-raised-button (click)=\\\"dialogRef.close(data)\\\">Save</button>\\r\\n</p>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey-dialog/journey-dialog.component.html\n// module id = 172\n// module chunks = 1","import { Component, OnInit, Inject, Optional } from '@angular/core';\r\nimport { Step } from \"../../models/step\";\r\nimport { PlacementDirection } from \"../../models/placement-direction\";\r\nimport { MdDialogRef,MD_DIALOG_DATA } from '@angular/material';\r\n\r\n@Component({\r\n  selector: 'app-journey-dialog',\r\n  templateUrl: './journey-dialog.component.html',\r\n  styleUrls: ['./journey-dialog.component.scss']\r\n})\r\nexport class JourneyDialogComponent implements OnInit {\r\n\r\n  journeyStep: Step;\r\n  placements: Array<PlacementDirection>;\r\n  selectedPlacement: PlacementDirection;\r\n\r\n  constructor( @Optional() public dialogRef: MdDialogRef<JourneyDialogComponent>,@Inject(MD_DIALOG_DATA) public data:any){\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.placements = new Array<PlacementDirection>();\r\n    this.placements.push(\"right\");\r\n    this.placements.push(\"left\");\r\n    this.placements.push(\"top\");\r\n    this.placements.push(\"bottom\");\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/journey-dialog/journey-dialog.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 88;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 88\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { DOCUMENT } from \"@angular/platform-browser\";\r\nimport { MdDialog, MdDialogConfig } from \"@angular/material\";\r\nimport { CommonService } from \"./services/common.service\";\r\nimport { DownloadService } from \"./services/download.service\";\r\nimport { PouchDBService } from \"./services/pouch-db.service\";\r\nimport { QuerySelectorService } from \"./services/query-selector.service\";\r\nimport { Step } from \"./models/step\";\r\nimport { JourneyDialogComponent } from './components/journey-dialog/journey-dialog.component';\r\nimport { MessagingService } from \"./services/messaging.service\";\r\ndeclare let chrome: any;\r\n@Component({\r\n  selector: 'onBoard-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  providers: [MdDialog, PouchDBService, DownloadService, CommonService, QuerySelectorService, { provide: Window, useValue: window }, MessagingService]\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  journeyStep: Step;\r\n  lastDialogResult: string;\r\n  config: MdDialogConfig;\r\n  msgPort: any;\r\n\r\n  constructor( @Inject(DOCUMENT) private document: Document, @Inject(Window) private _window: Window, private _dialog: MdDialog, private _pouchDbService: PouchDBService\r\n    , private _downloadService: DownloadService, private _commonService: CommonService, private _docQuerySVC: QuerySelectorService, private _msgSVC: MessagingService) { }\r\n\r\n  ngOnInit(): void {\r\n    // let msg = this._msgSVC.initilize().then((port) => {\r\n    //   this.msgPort = port;\r\n    //   console.log(\"port details\", port);\r\n    // });\r\n    let msg = this._msgSVC.receiveMessage();\r\n    msg.then((port)=>{\r\n      console.log(\"successfully connected to background from conent\",port);\r\n    });\r\n  }\r\n\r\n  private openDialog() {\r\n    let selection = this._window.getSelection();\r\n    this.journeyStep = new Step();\r\n    this.journeyStep.title = selection.toString();\r\n    let range = selection.getRangeAt(0);\r\n    this.journeyStep.target = this._docQuerySVC.generateSelector(range.commonAncestorContainer.parentElement);\r\n    this.config = new MdDialogConfig();\r\n    this.config.data = this.journeyStep;\r\n    this.config.disableClose = true;\r\n    let dialogRef = this._dialog.open(JourneyDialogComponent, this.config);\r\n    dialogRef.afterClosed().subscribe((result: Step | string) => {\r\n      if (result !== null && result !== \"cancel\") {\r\n        let response = this._msgSVC.sendMessage<Step>(\"newJourney\", this.journeyStep);\r\n        response.then((result) => {\r\n          console.log(\"response received from background as save to db \", result);\r\n        });\r\n        let save = this._pouchDbService.put(this.journeyStep.id, this.journeyStep);\r\n\r\n        save.then((result) => {\r\n          console.info(\"saved to the indexdb\");\r\n        });\r\n        save.catch((error) => {\r\n          console.error(error);\r\n        });\r\n      } else {\r\n        console.warn(\"step not added\");\r\n      }\r\n    });\r\n  }\r\n\r\n  downloadJourney() {\r\n    let name = this._commonService.parseURI(window.location.href);\r\n    let journey = this._pouchDbService.get(this._commonService.parseURI(window.location.href));\r\n    journey.then((result: any) => {\r\n      this._downloadService.downloadJSON<string>(JSON.stringify(result), `${name}.json`);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport {MaterialModule} from '@angular/material';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { JourneyDialogComponent } from './components/journey-dialog/journey-dialog.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    JourneyDialogComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule,\r\n    BrowserAnimationsModule,\r\n    MaterialModule.forRoot()\r\n  ],\r\n  entryComponents:[JourneyDialogComponent],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { \r\n  constructor(){\r\n    let rootDiv = document.createElement('onBoard-root');\r\n    rootDiv.textContent = \".....Loading!!!\";\r\n    document.body.appendChild(rootDiv);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Step } from './step';\r\nexport class Journey implements PouchDB.Core.IdMeta, PouchDB.Core.RevisionIdMeta {\r\n    _rev: string;\r\n    readonly id: string;\r\n    _id: string;\r\n    steps: Array<Step>;\r\n    constructor() {\r\n        this.id = this.parseURI(window.location.href);\r\n        this._id = this.id;\r\n        this.steps = new Array<Step>();\r\n    }\r\n    parseURI(url: string): string {\r\n        let _url = new URL(url);\r\n        let unique = \"\";\r\n        if (_url === undefined) {\r\n            console.error(\"url is on wrong format\", url);\r\n            return \"ERROR\";\r\n        }\r\n        if (_url.hostname) {\r\n            unique = _url.hostname.replace(/\\./g, \"_\").replace(/\\//g, \"_\")\r\n        }\r\n        if (_url.pathname) {\r\n            let pathName = _url.pathname.replace(/\\./g, \"_\").replace(/\\//g, \"_\");\r\n            unique = unique + \"_\" + pathName;\r\n        }\r\n        return unique;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/journey.ts","import { PlacementDirection } from './placement-direction';\r\nexport class Step {\r\n    readonly id: string;\r\n    title: string = \"\";\r\n    content: string = \"\";\r\n    target: string = \"\";\r\n    placement: string = \"\";\r\n    constructor() {\r\n        this.id = this.parseURI(window.location.href);\r\n    }\r\n\r\n    parseURI(url: string): string {\r\n        let _url = new URL(url);\r\n        let unique = \"\";\r\n        if (_url === undefined) {\r\n            console.error(\"url is on wrong format\", url);\r\n            return \"ERROR\";\r\n        }\r\n        if (_url.hostname) {\r\n            unique = _url.hostname.replace(/\\./g, \"_\").replace(/\\//g, \"_\")\r\n        }\r\n        if (_url.pathname) {\r\n            let pathName = _url.pathname.replace(/\\./g, \"_\").replace(/\\//g, \"_\");\r\n            unique = unique + \"_\" + pathName;\r\n        }\r\n        return unique;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/step.ts"],"sourceRoot":""}